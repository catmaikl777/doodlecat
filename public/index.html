<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ –û–Ω–ª–∞–π–Ω Doodle Jump</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        .achievement {
            background: linear-gradient(45deg, #FFD700, #FFA000);
            color: white;
            padding: 12px 16px;
            margin: 8px 0;
            border-radius: 8px;
            animation: slideIn 0.5s ease;
            transform: translateX(100%);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            border-left: 4px solid #FF6B6B;
            font-weight: bold;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .power-up-indicator {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin: 2px;
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .rocket-indicator { background: linear-gradient(45deg, #FF5722, #FF8A65); }
        .shield-indicator { background: linear-gradient(45deg, #4FC3F7, #81D4FA); }
        .magnet-indicator { background: linear-gradient(45deg, #E91E63, #F48FB1); }
        
        .jump-btn {
            width: 70px;
            height: 70px;
            font-size: 24px;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border: 3px solid white;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            position: fixed;
            right: 20px;
            bottom: 100px;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
        }
        
        .jump-btn:active {
            transform: scale(0.95);
            background: linear-gradient(45deg, #45a049, #4CAF50);
        }
        
        .server-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            margin-left: 10px;
            font-weight: bold;
        }
        
        .server-online {
            background: #4CAF50;
            color: white;
        }
        
        .server-offline {
            background: #f44336;
            color: white;
        }
        
        .connection-info {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4CAF50;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
            font-family: Arial, sans-serif;
        }

        .loading-progress {
            width: 300px;
            height: 6px;
            background: rgba(255,255,255,0.3);
            border-radius: 3px;
            margin-top: 20px;
            overflow: hidden;
        }

        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 3px;
        }

        .sprite-status {
            margin-top: 15px;
            font-size: 14px;
            opacity: 0.8;
        }

        .loading-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <h1 class="loading-title">üéØ Doodle Jump</h1>
        <div class="loading-spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã...</p>
        <div class="loading-progress">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <div class="sprite-status" id="spriteStatus">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø—Ä–∞–π—Ç–æ–≤...</div>
    </div>

    <div class="container" id="gameContainer" style="display: none;">
        <div class="game-header">
            <h1>üéØ –û–Ω–ª–∞–π–Ω Doodle Jump</h1>
            <div class="game-info">
                <div class="score">–û—á–∫–∏: <span id="score">0</span></div>
                <div class="coins">–ú–æ–Ω–µ—Ç—ã: <span id="coins">0</span></div>
                <div class="players">
                    –ò–≥—Ä–æ–∫–æ–≤: <span id="player-count">0</span>
                    <span id="serverStatus" class="server-status server-offline">Offline</span>
                </div>
            </div>
            <div class="power-ups">
                <span id="rocketIndicator" class="power-up-indicator rocket-indicator" style="display: none;">üöÄ –†–∞–∫–µ—Ç–∞</span>
                <span id="shieldIndicator" class="power-up-indicator shield-indicator" style="display: none;">üõ°Ô∏è –©–∏—Ç</span>
                <span id="magnetIndicator" class="power-up-indicator magnet-indicator" style="display: none;">üß≤ –ú–∞–≥–Ω–∏—Ç</span>
            </div>
            <div id="connectionInfo" class="connection-info">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É...</div>
        </div>
        
        <div class="game-container">
            <canvas id="gameCanvas" width="400" height="600"></canvas>
            
            <div class="controls">
                <div class="control-buttons">
                    <button id="leftBtn" class="control-btn">‚Üê</button>
                    <button id="rightBtn" class="control-btn">‚Üí</button>
                    <button id="jumpBtn" class="jump-btn">‚Üë</button>
                </div>
                <div class="mobile-info">
                    üì± –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ –Ω–∞–∫–ª–æ–Ω—è–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
                    <div>‚Üê ‚Üí –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è, ‚Üë –¥–ª—è –ø—Ä—ã–∂–∫–∞</div>
                </div>
            </div>
            
            <div class="game-over" id="gameOver">
                <h2>üéÆ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
                <p>–í–∞—à —Å—á–µ—Ç: <span id="finalScore">0</span></p>
                <p>–°–æ–±—Ä–∞–Ω–æ –º–æ–Ω–µ—Ç: <span id="finalCoins">0</span></p>
                <button id="restartBtn" class="restart-btn">üîÑ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>
            
            <div class="waiting" id="waiting">
                <div class="loading-spinner"></div>
                <p>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É...</p>
            </div>
        </div>
        
        <div class="players-list">
            <h3>üë• –ò–≥—Ä–æ–∫–∏ –æ–Ω–ª–∞–π–Ω:</h3>
            <ul id="playersList">
                <li class="waiting-player">–ó–∞–≥—Ä—É–∑–∫–∞...</li>
            </ul>
        </div>
        
        <div id="achievements" class="achievements-container"></div>
    </div>

    <!-- Socket.IO CDN -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script type="module" src="/game.js"></script>
</body>
</html>